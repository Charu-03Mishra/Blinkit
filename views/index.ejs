<%- include('./partials/header'); %>

<!-- <style>
	.swiper-container {
		width: 100%;
	}

	.swiper-slide {
		display: flex;
		justify-content: center;
		align-items: center;
		width: 90%;
		height: 300px;
		background-color: black;
	}
</style> -->

<body class="bg-gray-100 font-sans">
	<div class="max-w-screen-lg mx-auto p-4">
		<!-- Order Now Section -->
		<div class="bg-white p-6 rounded-lg shadow-lg mb-6 max-w-5xl mx-auto">
			<div class="flex justify-between items-center mb-4">
				<h2 class="text-xl font-bold">Order Now</h2>
				<button class="text-blue-600 hover:underline">See All</button>
			</div>
			<div class="flex space-x-6 overflow-x-auto laptop:space-x-8 laptop:mt-4">
				<% rnproduct.forEach((elem) => { %>
				<div
					class="flex w-56 laptop:w-48 flex-shrink-0 flex-col items-center p-2 bg-gray-50 rounded-lg hover:shadow-md transition duration-300">
					<div class="relative">
						<img
							src="data:image/png;base64,<%= elem.image.toString('base64') %>"
							alt="<%= elem.name %>"
							class="h-32 w-32 rounded-full hover:scale-105 transition-transform duration-200" />
					</div>
					<p class="text-center text-sm mt-2 laptop:text-base font-medium">
						<%= elem.name %>
					</p>
					<p class="text-xs text-gray-500 line-through laptop:text-sm">
						₹<%= Number(elem.price)+20 %>
					</p>
					<p class="font-bold text-lg text-green-700">₹<%= elem.price %></p>
					<button
						class="bg-green-600 text-white px-6 py-2 mt-3 rounded hover:bg-green-700 transition-all duration-300">
						ADD
					</button>
				</div>
				<% }) %>
			</div>
		</div>

		<!-- Offers Section -->
		<div class="slider relative w-full overflow-hidden h-full mb-10">
			<div
				class="slides flex transition-transform duration-1000 ease-in-out transform">
				<!-- Repeat this div for each slide -->
				<div class="slide min-w-full relative">
					<img
						src="https://www.amarinfotech.com/wp-content/uploads/2022/11/Develop-Instant-Grocery-Delivery-App-like-Blinkit.png"
						alt="Slide 1"
						class="w-full object-center object-fill h-full" />
				</div>
			</div>
		</div>

		<% for(let key in products) { %>
		<div class="bg-white p-6 rounded-lg shadow-lg mb-10 border-t-4">
			<h2 class="text-2xl font-bold text-gray-800"><%= key %></h2>

			<div
				id="product-container-<%= key %>"
				class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mt-8">
				<% products[key].forEach((elem) => { %>
				<div
					class="product-item flex flex-col items-center bg-white p-6 shadow-md rounded-lg transition-transform transform hover:scale-105">
					<img
						src="data:image/png;base64,<%= elem.image.toString('base64') %>"
						alt="<%= elem.name %>"
						class="w-32 h-32 object-cover rounded-full shadow-md mb-4" />
					<p class="text-xl font-bold text-gray-700 text-center mb-2">
						<%= elem.name %>
					</p>
					<p class="text-xs text-gray-500 line-through">
						₹<%= Number(elem.price) + 20 %>
					</p>
					<p class="font-bold text-lg text-green-600">₹<%= elem.price %></p>
					<p class="font-bold text-lg text-green-600"><%= elem.wait %></p>
					<a
						href="/cart/add/<%= elem._id %>"
						class="mt-4 px-6 py-2 bg-green-600 text-white text-sm rounded-full shadow-md hover:bg-green-500 transition-colors"
						>ADD TO CART</a
					>
				</div>
				<% }) %>
			</div>
		</div>
		<% } %>

		<!-- Footer -->
		<% if(sometingItem){%>
		<div class="py-20"></div>
		<div class="bg-white p-4 rounded-lg shadow fixed bottom-0 inset-x-0">
			<div class="flex justify-between items-center mb-10">
				<div>
					<p class="text-sm">Get FREE delivery</p>
					<p class="text-xs text-gray-500">Add products worth ₹236 more</p>
				</div>
				<button class="text-blue-500">See all coupons</button>
			</div>
			<div class="flex justify-between items-center mt-2">
				<div><%= cartCount %> Item</div>
				<a
					href="/cart"
					class="flex items-center justify-center px-32 py-3 bg-green-700 text-white rounded-lg"
					><span class="text-lg">Next</span
					><i class="text-2xl ri-arrow-right-s-fill"></i
				></a>
			</div>
		</div>

		<% }%>
	</div>
</body>
<%- include('./partials/footer'); %>

